<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0">
  <style>
    /* Убираем отступы у body, чтобы iframe занимал всё пространство */
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <script>
    document.write(
      `<iframe id="frame" src="${location.search.substring(1)}?${location.hash.substring(1)}" style="width: 100vw; height: 100vh; border: none; margin: 0; padding: 0; display: block;" frameborder="0"></iframe>`
    );



    // function sendMessageToGas() {
    //   var iframe = document.getElementById("myGasFrame");
    //   var targetOrigin = "https://script.google.com"; // Куда отправляем (домен Гугла)

    //   // Отправляем сообщение во внутрь фрейма
    //   // iframe.contentWindow.postMessage(сообщение, целевой_домен);
    //   iframe.contentWindow.postMessage("changeColor", targetOrigin);
    // }

    window.addEventListener("message", function (event) {
      // Проверяем, что ответ пришел именно от Google Script
      if (event.origin.indexOf("script.google.com") === -1 && event.origin.indexOf("googleusercontent.com") === -1) {
        return console.log('Ответ пришел от: ' + event.origin);
      }
      console.log("Родитель получил ответ:", event.data);

    }, false);
  </script>
</body>

</html>